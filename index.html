<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vinayaka Chaturthi 2025 - Kings Youth</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script type="module" src="firebase.js"></script>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-om"></i>
                <h1>Kings Youth</h1>
            </div>
            <div class="nav-menu">
                <a href="#home" class="nav-link active" data-tab="home">
                    <i class="fas fa-home"></i> Home
                </a>
                <a href="#donate" class="nav-link" data-tab="donate">
                    <i class="fas fa-donate"></i> Donate
                </a>
                <a href="#schedule" class="nav-link" data-tab="schedule">
                    <i class="fas fa-calendar"></i> Schedule
                </a>
                <a href="#gallery" class="nav-link" data-tab="gallery">
                    <i class="fas fa-images"></i> Gallery
                </a>
                <a href="#location" class="nav-link" data-tab="location">
                    <i class="fas fa-map-marker-alt"></i> Location
                </a>
                <a href="#admin" class="nav-link" data-tab="admin">
                    <i class="fas fa-lock"></i> Admin
                </a>
            </div>
        </div>
    </nav>

    <!-- Home Section -->
    <section id="home" class="tab-content active">
        <div class="container">
            <!-- Hero Section -->
            <div class="hero-card">
                <div class="hero-image">
                    <i class="fas fa-om"></i>
                </div>
                <div class="hero-content">
                    <span class="hero-subtitle">Celebration</span>
                    <h1>Welcome to Vinayaka Chaturthi 2025</h1>
                    <p>Join us in celebrating the birth of Lord Ganesha with devotion, joy, and community spirit. 
                       The festival begins on <strong>August 27, 2025</strong> and continues for 10 days of prayers, 
                       rituals, and cultural programs.</p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary" onclick="switchTab('schedule')">
                            Learn More <i class="fas fa-arrow-right"></i>
                        </button>
                        <button class="btn btn-success" onclick="switchTab('donate')">
                            <i class="fas fa-heart"></i> Quick Donate
                        </button>
                    </div>
                </div>
            </div>

            <!-- Countdown -->
            <div class="countdown-card">
                <h2>Countdown to Vinayaka Chaturthi</h2>
                <div class="countdown-container">
                    <div class="countdown-item">
                        <div class="countdown-number" id="days">00</div>
                        <div class="countdown-label">Days</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-number" id="hours">00</div>
                        <div class="countdown-label">Hours</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-number" id="minutes">00</div>
                        <div class="countdown-label">Minutes</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-number" id="seconds">00</div>
                        <div class="countdown-label">Seconds</div>
                    </div>
                </div>
            </div>

            <!-- Festival Highlights -->
            <div class="highlights-card">
                <h2>Festival Highlights</h2>
                <div class="highlights-grid">
                    <div class="highlight-item">
                        <i class="fas fa-praying-hands"></i>
                        <h3>Ganesh Pooja</h3>
                        <p>Daily prayers and rituals performed with devotion</p>
                    </div>
                    <div class="highlight-item">
                        <i class="fas fa-utensils"></i>
                        <h3>Prasadam</h3>
                        <p>Delicious offerings distributed to devotees</p>
                    </div>
                    <div class="highlight-item">
                        <i class="fas fa-music"></i>
                        <h3>Cultural Programs</h3>
                        <p>Music, dance and devotional performances</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Donation Section -->
    <section id="donate" class="tab-content">
        <div class="container">
            <div class="donate-card">
                <h2><i class="fas fa-heart"></i> Support the Festival</h2>
                
                <!-- Quick Amounts -->
                <div class="donation-section">
                    <h3>Quick Donation Amounts</h3>
                    <div class="quick-amounts">
                        <div class="amount-card" data-amount="51">
                            <div class="amount">₹51</div>
                            <div class="label">Blessing</div>
                        </div>
                        <div class="amount-card" data-amount="101">
                            <div class="amount">₹101</div>
                            <div class="label">Devotion</div>
                        </div>
                        <div class="amount-card" data-amount="501">
                            <div class="amount">₹501</div>
                            <div class="label">Prosperity</div>
                        </div>
                        <div class="amount-card" data-amount="1001">
                            <div class="amount">₹1001</div>
                            <div class="label">Blessings</div>
                        </div>
                    </div>
                </div>

                <!-- Custom Amount -->
                <div class="donation-section">
                    <h3>Custom Amount</h3>
                    <div class="custom-amount">
                        <input type="number" id="customAmount" placeholder="Enter amount" min="1">
                        <button class="btn btn-primary" onclick="setCustomAmount()">Set Amount</button>
                    </div>
                </div>

                <!-- Donor Details -->
                <div class="donation-section">
                    <h3>Donor Information (Optional)</h3>
                    <div class="donor-form">
                        <input type="text" id="donorName" placeholder="Your name">
                        <input type="tel" id="donorPhone" placeholder="Your phone number">
                    </div>
                </div>

                <!-- Payment Methods -->
                <div class="donation-section">
                    <h3>Payment Method</h3>
                    <div class="payment-methods">
                        <!-- UPI Payment -->
                        <div class="payment-method active" id="upiMethod">
                            <h4><i class="fas fa-mobile-alt"></i> UPI Payment</h4>
                            <div class="payment-content">
                                <div class="upi-details">
                                    <p><strong>UPI ID:</strong> <span id="upiId">7993962018@paytm</span>
                                    <button class="btn-copy" onclick="copyUPI()"><i class="fas fa-copy"></i></button></p>
                                    <p><strong>Amount:</strong> <span id="selectedAmount">₹0</span></p>
                                </div>
                                <div class="qr-container" id="qrContainer">
                                    <div class="qr-placeholder">
                                        <i class="fas fa-qrcode"></i>
                                        <p>Select amount to generate QR code</p>
                                    </div>
                                </div>
                                <div class="payment-buttons">
                                    <button class="btn btn-success" onclick="openUPIApp()" id="upiAppBtn" disabled>
                                        <i class="fas fa-mobile-alt"></i> Open UPI App
                                    </button>
                                    <button class="btn btn-primary" onclick="confirmPayment()" id="confirmBtn" disabled>
                                        <i class="fas fa-check"></i> I have completed payment
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Donation Stats (Admin Only) -->
                <div class="donation-section" id="donationStats" style="display: none;">
                    <h3>Donation Summary</h3>
                    <div class="stats-grid">
                        <div class="stat-card donation">
                            <div class="stat-label">Total Donations</div>
                            <div class="stat-value" id="totalDonations">₹0</div>
                        </div>
                        <div class="stat-card expense">
                            <div class="stat-label">Total Expenses</div>
                            <div class="stat-value" id="totalExpenses">₹0</div>
                        </div>
                        <div class="stat-card balance">
                            <div class="stat-label">Available Balance</div>
                            <div class="stat-value" id="netBalance">₹0</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Schedule Section -->
    <section id="schedule" class="tab-content">
        <div class="container">
            <div class="schedule-card">
                <h2><i class="fas fa-calendar"></i> Pooja Schedule</h2>
                <div class="schedule-list" id="scheduleList">
                    <div class="schedule-item">
                        <div class="schedule-time">6:00 AM</div>
                        <div class="schedule-event">Mangal Aarti</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-time">8:00 AM</div>
                        <div class="schedule-event">Abhishek</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-time">12:00 PM</div>
                        <div class="schedule-event">Madhyanha Aarti</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-time">6:00 PM</div>
                        <div class="schedule-event">Sandhya Aarti</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-time">8:00 PM</div>
                        <div class="schedule-event">Shayan Aarti</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="tab-content">
        <div class="container">
            <div class="gallery-card">
                <h2><i class="fas fa-images"></i> Festival Gallery</h2>
                
                <!-- Gallery Filters -->
                <div class="gallery-filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="deity">Deity</button>
                    <button class="filter-btn" data-filter="ceremony">Ceremony</button>
                    <button class="filter-btn" data-filter="decorations">Decorations</button>
                    <button class="filter-btn" data-filter="offerings">Offerings</button>
                </div>

                <!-- Gallery Grid -->
                <div class="gallery-grid" id="galleryGrid">
                    <!-- Images will be loaded dynamically -->
                </div>

                <!-- Admin Gallery Management -->
                <div id="galleryManagement" class="gallery-management" style="display: none;">
                    <div class="management-header">
                        <h4><i class="fas fa-upload"></i> Upload New Images</h4>
                        <button class="btn btn-secondary" onclick="closeGalleryManager()">
                            <i class="fas fa-times"></i> Close
                        </button>
                    </div>

                    <form id="imageUploadForm" class="add-image-form" onsubmit="uploadGalleryImage(event)">
                        <h5>Add New Image</h5>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="imageTitle">Title</label>
                                <input type="text" id="imageTitle" required>
                            </div>
                            <div class="form-group">
                                <label for="imageCategory">Category</label>
                                <select id="imageCategory" required>
                                    <option value="">Select category</option>
                                    <option value="deity">Deity</option>
                                    <option value="ceremony">Ceremony</option>
                                    <option value="decorations">Decorations</option>
                                    <option value="offerings">Offerings</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="imageDescription">Description</label>
                            <textarea id="imageDescription" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="imageFile">Image File</label>
                            <input type="file" id="imageFile" accept="image/*" required>
                        </div>
                        
                        <div id="imagePreview" class="image-preview" style="display: none;">
                            <img id="previewImg" style="max-width: 200px; max-height: 200px; border-radius: 8px;">
                        </div>

                        <div id="uploadProgress" class="upload-progress" style="display: none;">
                            <div class="progress-bar">
                                <div id="progressFill" class="progress-fill"></div>
                            </div>
                            <p id="progressText">Uploading...</p>
                        </div>

                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-upload"></i> Upload Image
                        </button>
                    </form>

                    <div class="existing-images">
                        <h5>Existing Images</h5>
                        <div id="adminImagesGrid" class="admin-images-grid">
                            <!-- Admin images will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Location Section -->
    <section id="location" class="tab-content">
        <div class="container">
            <div class="location-card">
                <h2><i class="fas fa-map-marker-alt"></i> Event Location</h2>
                <div class="location-content">
                    <div class="location-info">
                        <h3>Kings Youth Community Center</h3>
                        <div class="location-details">
                            <div class="detail-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>123 Temple Street, Community District</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-phone"></i>
                                <span>+91 98765 43210</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-clock"></i>
                                <span>Open daily: 6:00 AM - 10:00 PM</span>
                            </div>
                        </div>
                        <div class="location-buttons">
                            <button class="btn btn-primary" onclick="openGoogleMaps()">
                                <i class="fas fa-directions"></i> Get Directions
                            </button>
                            <button class="btn btn-success" onclick="switchTab('donate')">
                                <i class="fas fa-donate"></i> Quick Donate
                            </button>
                        </div>
                    </div>
                    <div class="location-map">
                        <div class="map-placeholder">
                            <i class="fas fa-map"></i>
                            <p>Click "Get Directions" to view location on Google Maps</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Admin Section -->
    <section id="admin" class="tab-content">
        <div class="container">
            <div class="admin-card">
                <!-- Login Form -->
                <div id="adminLogin">
                    <h2><i class="fas fa-lock"></i> Admin Login</h2>
                    <form id="loginForm" onsubmit="adminLogin(event)">
                        <div class="form-group">
                            <label for="adminUsername">Username</label>
                            <input type="text" id="adminUsername" required>
                        </div>
                        <div class="form-group">
                            <label for="adminPassword">Password</label>
                            <input type="password" id="adminPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-sign-in-alt"></i> Login
                        </button>
                        <div id="loginError" class="error-message" style="display: none;"></div>
                    </form>
                </div>

                <!-- Admin Dashboard -->
                <div id="adminDashboard" style="display: none;">
                    <div class="dashboard-header">
                        <h2><i class="fas fa-tachometer-alt"></i> Admin Dashboard</h2>
                        <button class="btn btn-secondary" onclick="adminLogout()">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                    </div>

                    <div class="admin-actions">
                        <button class="btn btn-primary" onclick="openGalleryManager()">
                            <i class="fas fa-images"></i> Manage Gallery
                        </button>
                        <button class="btn btn-success" onclick="addDonation()">
                            <i class="fas fa-plus"></i> Add Donation
                        </button>
                        <button class="btn btn-warning" onclick="addExpense()">
                            <i class="fas fa-minus"></i> Add Expense
                        </button>
                        <button class="btn btn-info" onclick="syncWithFirebase()">
                            <i class="fas fa-sync"></i> Sync Data
                        </button>
                    </div>

                    <div id="adminStats" class="admin-stats">
                        <h3>Statistics</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-label">Total Donations</div>
                                <div class="stat-value" id="adminTotalDonations">₹0</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Total Expenses</div>
                                <div class="stat-value" id="adminTotalExpenses">₹0</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Gallery Images</div>
                                <div class="stat-value" id="adminTotalImages">0</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Image Modal -->
    <div id="imageModal" class="modal">
        <span class="close" onclick="closeImageModal()">&times;</span>
        <div class="modal-content">
            <img id="modalImage" style="width: 100%; border-radius: 8px;">
            <div id="modalCaption" style="text-align: center; color: white; padding: 1rem;"></div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast"></div>

    <script src="script.js"></script>
</body>
</html>